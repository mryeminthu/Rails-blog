<div class="user-posts">
  <div class="post">
    <div class="title-cmt">
      <h3><%= @post.title %></h3>
      <div>
        <span>Comments: <%= @post.comments_counter %></span>
        <span id="likes-count">
          Likes: <%= @post.likes_counter %>
          <%= button_to "Like", like_post_user_post_path(@post.author, @post), method: :post, remote: true, format: :js, data: { type: 'script', disable_with: 'Liking...' } %>
        </span>


      </div>
    </div>
    <p><%= @post.text %></p>
  </div>

  <div class="user-comments">
    <div class="comments">
      <% if @comments.any? %>
        <% @comments.each do |comment| %>
          <div class="comment">
            <p><strong><%= comment.user.name %>:</strong> <%= comment.text %></p>
          </div>
        <% end %>
      <% else %>
        <p>No comments yet!</p>
      <% end %>
    </div>

    <%= render partial: 'comments/form', locals: { post: @post, comment: Comment.new } %>
  </div>
</div>
